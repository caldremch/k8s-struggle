# kubernets 学习记录

这个仓库的内容是耗时1个月左右的摸爬滚打, 折腾的一个记录, 好在所有的付出都有结果. 

利用3台闲置的主机, 都装成Ubuntu后(22.04),  就开始了一些列的环境搭建.  

之前也是在使用docker和docker-compose, 但是由于一台机器上面的资源确实有限, 在做一些服务的构建和部署的时候, 往往出现资源抢占
而导致的低效率运行. 

也是想在docker和docker-compose之上再进一步, 那就是强大的k8s,  入门时也是查看官网的教程,  而后不断地实操, 搜索资料, 查询, 解决环境的问题, 解决配置的问题,
一步步的实践, 确实花了很多额外的时间, 比如晚上有时候都会弄到半夜.  也确实积累了一些经验, 能解决一些常见的问题.

目前集群中成功搭建起来了, 一套自己的服务构建和部署流程.  包含以下环境:

1. kubespray 安装集群(v1.26.3) (网络问题直接使用翻墙代理解决了, 安装后可以再删除掉)
2. harbor 用于管理自定义的Docker镜像
3. mysql 
4. redis
5. helm
6. drone 用于docker流水线构建, 这个真的很强大, 个人非常喜欢
7. gogs git仓库管理(还可以选择别的如 gitea, gitlab等)

自己的目的也很简单, 就是 应用开发-应用部署. 可以进行治理, 不论是发布阶段和使用阶段, 都可以做很多定制化的东西, 以及便捷发布.
目前都 基于创建镜像-容器运行的方式. 所以每一个应用都是需要写一个Dockerfile. 倒也简单方便.

这个仓库可能有价值的地方并不是什么知识上的积累, 而是这1个月的问题记录,  一方面也是为了自己进行知识记录, 也是为了后面能进行检索相关的问题.
如果你也搜到了相同的问题, 并且能帮助到你, 那自己也是很开心的.

暂且记录这么多. 后续有什么问题, 会继续更新.


